$(document).ready(function() {
  $(".carousel__slider").slick({
    prevArrow: $(".prev"),
    nextArrow: $(".next"),
    arrows: true,
    centerMode: true,
    variableWidth: true,
    swipeToSlide: true,
    focusOnSelect: true,
    slidesToShow: 3,
    slidesToScroll: 2,
    initialSlide: 2,
    responsive: [
      {
        breakpoint: 768,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 3
        }
      },
      {
        breakpoint: 320,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1
        }
      }
    ]
  });
  

  $(".nav__menu-icon").click(function() {
    $(".nav__menu").toggle();
  });

  (function() {
    "use strict";

    var toggles = document.querySelectorAll(".nav__menu-icon");

    for (var i = toggles.length - 1; i >= 0; i--) {
      var toggle = toggles[i];
      toggleHandler(toggle);
    }

    function toggleHandler(toggle) {
      toggle.addEventListener("click", function(e) {
        e.preventDefault();
        this.classList.contains("is-active") === true
          ? this.classList.remove("is-active")
          : this.classList.add("is-active");
      });
    }
  })();
  $(".zoom").magnificPopup({
    type: "image",
    mainClass: "mfp-zoom-in",
    tLoading: "",
    removalDelay: 500, //delay removal by X to allow out-animation
    callbacks: {
      imageLoadComplete: function() {
        var self = this;
        setTimeout(function() {
          self.wrap.addClass("mfp-image-loaded");
        }, 16);
      },
      close: function() {
        this.wrap.removeClass("mfp-image-loaded");
      },

      // don't add this part, it's just to avoid caching of image
      beforeChange: function() {
        this.items[0].src = this.items[0].src + "?=" + Math.random();
      }
    },

    closeBtnInside: false,
    closeOnContentClick: true,
    midClick: true
  });
  $(document).ready(function(){
    $("#imb").on("click","a", function (event) {
      //отменяем стандартную обработку нажатия по ссылке
      event.preventDefault();
  
      //забираем идентификатор бока с атрибута href
      var id  = $(this).attr('href'),
  
      //узнаем высоту от начала страницы до блока на который ссылается якорь
        top = $(id).offset().top;
      
      //анимируем переход на расстояние - top за 1500 мс
      $('body,html').animate({scrollTop: top}, 1500);
    });
  });
});
